# Lefthook configuration for pre-commit test enforcement.
# See ADR-021: Lefthook Pre-Commit Test Enforcement
#
# Pre-commit hook runs tests on modified files using the TypeScript
# orchestration script. Uses tsx to run TypeScript directly, ensuring
# the hook always uses the latest source code without needing a build step.

pre-commit:
  parallel: true
  commands:
    tests:
      glob: "*.{ts,tsx,js,jsx}"
      run: npx tsx src/precommit/run.ts
